# 🚀 Sistema Avanzado de Integración de Feedback de Clientes - IA Marketing LATAM

## 📋 Descripción

Sistema completo de integración, análisis y procesamiento de feedback de clientes especializado para el mercado latinoamericano. Incluye análisis de sentimientos, inteligencia emocional, patrones culturales y métricas predictivas en tiempo real.

## ✨ Características Principales

### 🧠 Análisis de IA Avanzado
- **Análisis de Sentimientos**: Detección automática en español, portugués e inglés
- **Inteligencia Emocional**: Análisis de emociones primarias y secundarias
- **Patrones Culturales**: Especialización para mercados LATAM (México, Argentina, Brasil, Colombia, etc.)
- **Métricas Predictivas**: Predicción de churn, upsell y advocacy

### 🌍 Especialización LATAM
- **Análisis Cultural**: Adaptado a valores y comportamientos regionales
- **Idiomas Soportados**: Español, Portugués, Inglés
- **Regiones**: México, Argentina, Brasil, Colombia, Chile, Perú, Uruguay, Paraguay, Bolivia, Ecuador, Venezuela
- **Contexto Cultural**: Comunicación, etiqueta empresarial, toma de decisiones

### 📊 Analytics en Tiempo Real
- **Dashboard Interactivo**: Métricas en tiempo real con WebSocket
- **Alertas Inteligentes**: Notificaciones automáticas de cambios críticos
- **Tendencias**: Análisis de patrones y tendencias emergentes
- **Reportes**: Generación automática de reportes y exportación

### 🔧 Funcionalidades Técnicas
- **API RESTful**: Endpoints completos para todas las operaciones
- **WebSocket**: Comunicación en tiempo real
- **Rate Limiting**: Protección contra spam y abuso
- **Validación**: Middleware de validación y sanitización
- **Autenticación**: JWT con roles y permisos
- **Docker**: Containerización completa

## 🏗️ Arquitectura

```
src/
├── services/           # Servicios de negocio
│   ├── customerFeedbackService.ts    # Servicio principal de feedback
│   └── advancedAnalyticsService.ts   # Analytics avanzados
├── routes/            # Rutas de API
│   ├── customerFeedback.ts           # Endpoints de feedback
│   └── advancedAnalytics.ts          # Endpoints de analytics
├── middleware/        # Middleware personalizado
│   ├── auth.ts                       # Autenticación y autorización
│   └── feedbackMiddleware.ts         # Validación y procesamiento
├── app.ts            # Configuración de Express
└── server.ts         # Servidor principal con WebSocket
```

## 🚀 Instalación y Configuración

### Prerrequisitos
- Node.js 18+
- npm 8+
- Docker (opcional)
- PostgreSQL (opcional)

### Instalación Rápida
```bash
# Clonar repositorio
git clone https://github.com/adan/ai-marketing-feedback-system.git
cd ai-marketing-feedback-system

# Instalar dependencias
npm install

# Configurar variables de entorno
cp .env.example .env
# Editar .env con tus configuraciones

# Iniciar en modo desarrollo
npm run dev
```

### Variables de Entorno
```env
# Servidor
PORT=3001
HOST=0.0.0.0
NODE_ENV=development

# Base de datos
DATABASE_URL="postgresql://user:password@localhost:5432/feedback_db"

# Autenticación
JWT_SECRET="tu_jwt_secret_super_seguro"
VALID_API_KEYS="key1,key2,key3"

# CORS
ALLOWED_ORIGINS="http://localhost:3000,https://tu-dominio.com"

# Redis (opcional)
REDIS_URL="redis://localhost:6379"

# Email (opcional)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="tu-email@gmail.com"
SMTP_PASS="tu-password"
```

## 📚 Uso de la API

### Endpoints Principales

#### Procesar Feedback
```http
POST /api/feedback/process
Content-Type: application/json
Authorization: Bearer <token>

{
  "content": "Excelente curso de IA Marketing, muy recomendado",
  "source": "course_feedback",
  "platform": "internal",
  "language": "es",
  "region": "MX",
  "metadata": {
    "rating": 5,
    "tags": ["curso", "ia", "marketing"],
    "urgency": "low"
  }
}
```

#### Obtener Analytics
```http
GET /api/feedback/analytics?period=30d
Authorization: Bearer <token>
```

#### Análisis Avanzado
```http
POST /api/advanced/feedback/advanced-analysis
Content-Type: application/json
Authorization: Bearer <token>

{
  "feedbackId": "feedback_123",
  "content": "El curso superó mis expectativas",
  "language": "es",
  "region": "AR"
}
```

### WebSocket

#### Conectar
```javascript
const ws = new WebSocket('ws://localhost:3001/ws');

ws.onopen = () => {
  // Suscribirse a actualizaciones
  ws.send(JSON.stringify({
    type: 'subscribe_feedback'
  }));
};

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('Datos recibidos:', data);
};
```

#### Comandos WebSocket
- `subscribe_feedback`: Suscribirse a actualizaciones de feedback
- `subscribe_analytics`: Suscribirse a actualizaciones de analytics
- `get_dashboard_data`: Obtener datos del dashboard
- `analyze_feedback`: Analizar feedback en tiempo real
- `generate_alerts`: Generar alertas

## 🧪 Testing

```bash
# Ejecutar tests
npm test

# Tests con coverage
npm run test:coverage

# Tests en modo watch
npm run test:watch
```

## 🐳 Docker

### Desarrollo
```bash
# Construir imagen
npm run docker:build

# Ejecutar contenedor
npm run docker:run

# Docker Compose
npm run docker:compose
```

### Producción
```bash
# Docker Compose para producción
npm run docker:compose:prod
```

## 📊 Monitoreo y Salud

### Health Check
```http
GET /health
```

### Métricas de Rendimiento
- Tiempo de respuesta promedio
- Throughput de requests
- Uso de memoria
- Conexiones WebSocket activas

## 🔒 Seguridad

### Autenticación
- JWT con expiración configurable
- Roles y permisos granulares
- Rate limiting por IP
- Validación de entrada

### Protección
- Helmet para headers de seguridad
- CORS configurado
- Sanitización de datos
- Detección de spam

## 📈 Escalabilidad

### Horizontal
- Múltiples instancias de la aplicación
- Load balancer
- Base de datos distribuida

### Vertical
- Optimización de memoria
- Caching con Redis
- Procesamiento asíncrono

## 🌟 Características Avanzadas

### Análisis Cultural
- Valores culturales por región
- Estilos de comunicación
- Etiqueta empresarial
- Factores de decisión

### Inteligencia Emocional
- Emociones primarias y secundarias
- Intensidad emocional
- Estabilidad emocional
- Nivel de empatía

### Métricas Predictivas
- Riesgo de churn
- Potencial de upsell
- Probabilidad de advocacy
- Score de engagement

## 🤝 Contribución

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## 📝 Licencia

Este proyecto está bajo la Licencia MIT. Ver `LICENSE` para más detalles.

## 👨‍💻 Autor

**Adan** - AI Marketing Expert
- GitHub: [@adan](https://github.com/adan)
- LinkedIn: [Adan AI Marketing](https://linkedin.com/in/adan-ai-marketing)

## 🙏 Agradecimientos

- Comunidad de desarrolladores de Node.js
- Equipo de Prisma
- Contribuidores de Express.js
- Comunidad de TypeScript

---

## 📞 Soporte

Para soporte técnico o preguntas:
- 📧 Email: soporte@ai-marketing-feedback.com
- 💬 Discord: [AI Marketing Community](https://discord.gg/ai-marketing)
- 📖 Documentación: [docs.ai-marketing-feedback.com](https://docs.ai-marketing-feedback.com)

---

**¡Construyendo el futuro del marketing con IA en América Latina! 🚀🇲🇽🇦🇷🇧🇷🇨🇴**